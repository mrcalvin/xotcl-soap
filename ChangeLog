2007-09-06  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* Tagged 0.4 preview release 

	* tcl/xosoap-callback-procs.tcl: Fixed a typo in the
          before-uninstall callback and cleaned for unused once!
          SOAP-specific anythings are not 
          removed during installation of the protocol plug-in, but of
          xorb. this does not break the contracts/ impls and shifts
          responsibility to the type sponsorships.
	  

2007-09-05  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/zz-demo/manual-init.tcl: Added this little helper to
          load provider examples that comes with xorb's
          manual. Currently just one, but this will be extended.

2007-08-30  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/15-xosoap-procs.tcl: Changed request handling and
          package init logic to more differntiate better between post
          vs. get, invocations in either case or simple ui
          requests. Some former http-level exceptions became proper
          soap faults. 

	* Renamed the package parameter.

2007-08-27  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/xosoap-package-procs.tcl: We now take care of rendering
          solid relative hrefs for the service badges. This avoids
          confusion when there is no trailing slash provided.

	* tcl/15-xosoap-procs.tcl: Applied some cosmetics to exception
          catching, to avoid unwanted verbosity in the logs. 

2007-08-26  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/xosoap-marshaller-procs.tcl: Support for streaming xml
          per-element 'default' namespaces (unprefixed, element-scoped
          namespaces).

	* tcl/xosoap-package-procs.tcl: Added a return handler for
          exception pages (returnException). In general, we know use
          openacs default masters for badge and exception pages.

	* tcl/15-xosoap-procs.tcl: Exceptions are know rendered through
          a package-aware renderer (returnException).
	  Fixed RpcEncoded marshaling style: Specific namespaces (xsi,
          xsd) are only rendered in this mode.
	  Added support for two modes of marshaling the call
          namespace: either as per-element, prefixed or per-element,
          default namespace. Simply provide a single- (default) or
          two-element (prefixed) list to the callNamespace attribute.

2007-08-08  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/xosoap-package-procs.tcl: Made all-service badge aware
          of the binding state. Deployed therefore means registered
          with the invoker.

	* tcl/xosoap-client-procs.tcl: Added a new exception type (at
          the level of http transport provider) to capture failures on
          connection handling. Is basically thrown if no response data
          is received at (regardless of http state codes).

2007-08-06  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* Added three new wui files, needed for the aforementioned
          badges: badge.adp, xosoap-master.adp, badge.xsl. The xsl
          stylesheet is a nifty one, as it produces the per-service
          badges out of the wsdl description. Needs to be further
          extended, but it is a start.

	* tcl/xosoap-package-procs.tcl: The upgrade of
          ::xosoap::Package is the main change/achievement in this
          revision. The package is now created for each invocation and
	  simple http interaction, it serves as basic dispatcher
          (solicit=* methods). It provides some basic wui managing
          support, that will constantly increase. We provide two first
          wui features, so called 'badges'. One, the all-service
          badge, lists all available/deployed services (see
          /xosoap/services/), the other per-service information
          (service badge, see
          e.g. /xosoap/service/xosoap/demo/SoapInterop2Impl?s=badge).
	  Major changes are: The dispatcher can easily allow for
          get-base invocations (in the future), to get wsdl files for
          a service, one has to provide the parameter pair s=wsdl (and
          not ?wsdl as in previous revisions).

	* tcl/15-xosoap-procs.tcl: Major rewrite due to separation
	of connection and invocation context. We, now, use proper
	'brand new' soap envelope objects for responses, and do not
	re-use request objects for this purpose. this yields a proper
	use by interceptors and no error-prone visitor traversal (due
	to the specifics of composites as realised by
	OrderedComposite). Major dispatching responsibiliy has be
	shifted to ::xosoap::Package.

2007-08-02  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* www/demo/demo-interop2-base-client.tcl: Tested and fixed for
          new features/internals.

	* tcl/zz-demo/interop2-base-server-init.tcl: Moved to new,
          short-cut notation for Abstract/Delegate/Method. Fixed some
          typos and tested again.

	* tcl/xosoap-xsd-procs.tcl: Introduced new meta class for
          xs/soap specific anythings: SoapPrimitive and SoapComposite

	* tcl/xosoap-package-procs.tcl: Ported over to support
	xotcl-core's package facilities, the new state handler
	are called onMount and onUnmount. 

	* tcl/xosoap-init.tcl: Minor rewrite, migrated to
          xotcl-core-based package infrastructure.

	* tcl/xosoap-client-procs.tcl: Added inline documentation for
          SoapGlueObject, SoapObject and SoapClass.

	* tcl/xosoap-callback-procs.tcl: Partial rewrite, following
          the migration to xotcl-core's package facilities. This
          follows recent revisions of xorb. Also added an
          before-uninstall trace that will clear xsd types realised as
          acs message types.

2007-07-10  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/xosoap-marshaller-procs.tcl: fix for erroneous
          if-expression in SoapFault->parse which failed on fault
          messages that did not contain all fault-specific elements.

	* tcl/15-xosoap-procs.tcl: Changed SoapHttpListener to support
          the new naming/addressing scheme as introduced by xorb 0.4.
	  Added a new mixin ::xosoap::Soap::Invoker or rather a new
          method to it, which handles the resolution of the external
          (URL-based) object ids to the internal, canonical object id.

	* tcl/xosoap-client-procs.tcl: Changed property interface of
          SoapGlueObject slightly: invocationStyle was renamed to
          messageStyle, it now hosts Attributes for storing
          marshalled/unmarshalled requests and responses (formerly
          ContextObject directly). Added higher-level interface
          entities SoapObject and SoapClass.

	* tcl/xosoap-xsd-procs.tcl: Changed calls to MetaAny to
          MetaPrimitive or MetaComposite as required by xorb 0.4.

	* Pitched version to 0.4 and changed dependencies to xorb 0.4. 

2007-06-28  Stefan Sobernig  <stefan.sobernig@wu-wien.ac.at>

	* tcl/xosoap-callback-procs.tcl: Fixed for a missing namespace
          qualifiers for the package class. Now initiates silently.

